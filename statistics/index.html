<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@900&display=swap" rel="stylesheet">

    <title>統計 | Statistics</title>
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            ;
        }

        .container .row .loading {
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            margin: auto;
           
        }

        .container .row .error {
            font-size: 60px;
            top: 50%;
            left: 50%;
            -webkit-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <img src="/computer/img/market.png" alt="" width="30" height="30">
                    </a>

                    <div class="dropdown-menu border-0 rounded-0" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#">開發者介紹</a>
                        <a class="dropdown-item" href="#">你喜歡冰淇淋嗎?</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">問題回報</a>
                    </div>
                </li>
                <li class="navbar-item dropdown active">
                    <a class="nav-link ml-3" href="#" id="navbarDropdown" role="button" data-toggle="dropdown">
                        統計 | Statistics<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-filter-left"
                            fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M2 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z" />
                        </svg>
                    </a>
                    <div class="dropdown-menu border-0 rounded-0" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="/computer/computer.html">計算機</a>
                        <a class="dropdown-item" href="/cal/cal.html">行事曆</a>
                        <a class="dropdown-item" href="/Apple/apple.html">Apple</a>
                        <a class="dropdown-item" href="/maskmap/index.html">口罩地圖</a>
                        <a class="dropdown-item" href="/pizza/pizza.html">Pizza</a>
                        <a class="dropdown-item" href="/1A2B/1A2B.html">1A2B</a>
                        <a class="dropdown-item" href="/puzzle/index.html">拼圖</a>
                        <a class="dropdown-item" href="/statistics/index.html">統計</a>
                    </div>
                </li>
            </ul>
        </div>

        <button class="btn" data-container="body" data-toggle="popover" data-placement="left" data-content="EAT ME!">
            <a class="navbar d-flex " href="#"><img src="/computer/img/ice-cream.png" width="30" height="30" class=""
                    alt="" loading="lazy"></a>
        </button>
    </nav>
    <!-- ----------------------上方導覽------------------------- -->

    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h4>資料載入：成功</h4>
                <canvas id="myChart" width="400" height="200" class="chartjs-render-monitor"></canvas>
            </div>
            <div class="col-md-6">
                <h4>資料載入：失敗</h4>
                <canvas id="myChart2" width="400" height="200"></canvas>
                <div class="error text-danger position-absolute">載入失敗</div>
            </div>
            <div class="col-md-6">
                <h4>資料延遲載入：成功</h4>
                <div class="spinner-border position-absolute loading text-warning" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
                <canvas id="myChart3" width="400" height="200"></canvas>
            </div>
            <div class="col-md-6">
                <h4>資料更新</h4>
                <canvas id="myChart4" width="400" height="200"></canvas>
            </div>
        </div>
    </div>




    <!-- ------------------------底部--------------------------- -->

    <div class="bg-light text-dark">
        <div class="row mt-4 mx-auto bg-light text-dark justify-content-center">
            <div class="col-md-3 mt-4 mb-4 col-6">
                <h5 class=""><img class="mr-2" src="/img/ice-cream/png/006-ice cream.png" alt="" width="20">JAVASCRIPT
                </h5>
                <a class="text-decoration-none text-dark d-block ml-4"
                    href="https://bearhenry.azurewebsites.net/Apple/apple.html">APPLE</a>
                <a class="text-decoration-none text-dark d-block ml-4"
                    href="https://bearhenry.azurewebsites.net/1A2B/1A2B.html">1A2B</a>
                <a class="text-decoration-none text-dark d-block ml-4"
                    href="https://bearhenry.azurewebsites.net/computer/computer.html">計算機</a>
                <a class="text-decoration-none text-dark d-block ml-4"
                    href="https://bearhenry.azurewebsites.net/pizza/pizza.html">Pizza<span
                        class="badge badge-warning badge-pill">NEW</span></a>
                <a class="text-decoration-none text-dark d-block ml-4"
                    href="https://bearhenry.azurewebsites.net/maskmap/index.html">口罩地圖</a>
                <a class="text-decoration-none text-dark d-block ml-4"
                    href="https://bearhenry.azurewebsites.net/statistics/index.html">統計圖表<span
                        class="badge badge-warning badge-pill">NEW</span></a>
                <a class="text-decoration-none text-dark d-block ml-4"
                    href="https://bearhenry.azurewebsites.net/cal/cal.html">行事曆<span
                        class="badge badge-warning badge-pill">NEW</span></a>
                <a class="text-decoration-none text-dark d-block ml-4"
                    href="https://bearhenry.azurewebsites.net/puzzle/index.html">拼圖<span
                        class="badge badge-warning badge-pill">NEW</span></a>

            </div>
            <div class="col-md-3 mt-4 mb-4 col-6">
                <h5 class=""><img class="mr-2" src="/img/ice-cream/png/029-ice cream truck.png" alt="" width="20">切版
                </h5>
                <a class="text-decoration-none text-dark d-block ml-4"
                    href="https://bearhenry.azurewebsites.net/cat/home.html">小貓網站</a>
                <a class="text-decoration-none text-dark d-block ml-4"
                    href="https://bearhenry.azurewebsites.net/veg/vegetable.html">蔬菜網站</a>
                <a class="text-decoration-none text-dark d-block ml-4"
                    href="https://bearhenry.azurewebsites.net/car/cars.html">汽車網站</a>
                <a class="text-decoration-none text-dark d-block ml-4"
                    href="https://bearhenry.azurewebsites.net/bs/bs.html">Build School</a>
                <a class="text-decoration-none text-dark d-block ml-4"
                    href="https://bearhenry.azurewebsites.net/taken/kr.html">釣具網站</a>

            </div>
            <div class="col-md-3 mt-4 mb-4 col-6">
                <div class="col">
                    <h5><img class="mr-2" src="/img/ice-cream/png/046-packaging.png" alt="" width="20">聯絡資訊</h5>
                    <div class="col-12 col-md mt-3">
                        <a href="#" class="mr-2"><img src="/img/social-media/png/036-facebook.png" alt=""
                                width="30"></a>
                        <a href="#" class="mr-2"><img src="/img/social-media/png/001-youtube.png" alt="" width="30"></a>
                        <a href="#" class="mr-2"><img src="/img/social-media/png/029-instagram.png" alt=""
                                width="30"></a>
                        <a href="#" class="mr-2"><img src="/img/social-media/png/005-whatsapp.png" alt=""
                                width="30"></a>
                    </div>
                </div>
                <div class="col mt-4">
                    <h5><img class="mr-2" src="/img/ice-cream/png/005-popsicle.png" alt="" width="20">合作請洽</h5>
                    <p></p><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-inboxes-fill"
                        fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                            d="M.125 11.17A.5.5 0 0 1 .5 11H6a.5.5 0 0 1 .5.5 1.5 1.5 0 0 0 3 0 .5.5 0 0 1 .5-.5h5.5a.5.5 0 0 1 .496.562l-.39 3.124A1.5 1.5 0 0 1 14.117 16H1.883a1.5 1.5 0 0 1-1.489-1.314l-.39-3.124a.5.5 0 0 1 .121-.393zM3.81.563A1.5 1.5 0 0 1 4.98 0h6.04a1.5 1.5 0 0 1 1.17.563l3.7 4.625a.5.5 0 0 1-.78.624l-3.7-4.624A.5.5 0 0 0 11.02 1H4.98a.5.5 0 0 0-.39.188L.89 5.812a.5.5 0 1 1-.78-.624L3.81.563z" />
                        <path fill-rule="evenodd"
                            d="M.125 5.17A.5.5 0 0 1 .5 5H6a.5.5 0 0 1 .5.5 1.5 1.5 0 0 0 3 0A.5.5 0 0 1 10 5h5.5a.5.5 0 0 1 .496.562l-.39 3.124A1.5 1.5 0 0 1 14.117 10H1.883A1.5 1.5 0 0 1 .394 8.686l-.39-3.124a.5.5 0 0 1 .121-.393z" />
                    </svg>
                    bear80416@gmail.com</p>

                </div>



            </div>
            <div class="col-md-3 mt-4 mb-4 col-6">
                <h5 class=""><img class="mr-2" src="/img/ice-cream/png/042-flavour.png" alt="" width="20">學習歷程</h5>
                <ol class="list-group ml-4">
                    <li>ASP.NET</li>
                    <li>Bootstrap</li>
                    <li>C#</li>
                    <li>JavaScript</li>
                    <li>SQL</li>
                    <li>Github</li>
                </ol>

            </div>
        </div>
    </div>
    <div class="col-md-12 col-12 d-flex justify-content-center align-items-center bg-dark text-white ">
        <p class="mt-3">Copyright © 2020 BEAR'S ICE-CREAM 保留一切權利。</p>
    </div>

    <!-- -----------------------------JS----------------------------- -->

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

    <script src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"
        integrity="sha512-s+xg36jbIujB2S2VKfpGmlC3T5V2TF3lY48DX7u2r9XzGzgPsa6wTpOQA7J9iffvdeBN0q9tKzRxVxw1JviZPg=="
        crossorigin="anonymous"></script>
    <script>
        $(function () {
            $('[data-toggle="popover"]').popover()
        })
    </script>

    <script>
        /*     var chartData = {
            labels: ['美國', '日本', '泰國', '琉球', '紐西蘭', '澳洲'],
            data: [8, 22, 13, 15, 12, 17, 21]
        } */
        var apiUrl =
            'https://raw.githubusercontent.com/bear80416/bearhenry.github.io/master/statistics/data/ChartData.json';
        var failapiUrl =
            'https://raw.githubusercontent.com/bear80416/bearhenry.github.io/master/statistics/data/ChartData1.json';

        var ctx = document.getElementById('myChart');
        var ctx2 = document.getElementById('myChart2');
        var ctx3 = document.getElementById('myChart3');
        var ctx4 = document.getElementById('myChart4');

        var chart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: [],
                datasets: [{
                    label: '旅遊行程投票',
                    data: [],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                }
            }
        });

        var chart2 = new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: [],
                datasets: [{
                    label: '旅遊行程投票',
                    data: [],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                }
            }
        });

        var chart3 = new Chart(ctx3, {
            type: 'bar',
            data: {
                labels: [],
                datasets: [{
                    label: '旅遊行程投票',
                    data: [],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                }
            }
        });

        var chart4 = new Chart(ctx4, {
            type: 'bar',
            data: {
                labels: [],
                datasets: [{
                    label: '旅遊行程投票',
                    data: [],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                }
            }
        });

        /* --1 */
        $.ajax({
                url: apiUrl,
                method: "get",
                dataType: "json",
            })
            .done(function (response) {
                chart.data.labels = response.labels;
                chart.data.datasets[0].data = response.data;
                chart.update();
            })
            .fail(function () {
                alert("wrong");
            }).always(function () {
                console.log('AJAX1完成');
            });
        /* --2 */
        $.ajax({
                url: failapiUrl,
                method: "get",
                dataType: "json",
            })
            .done(function (response) {
                chart2.data.labels = response.labels;
                chart2.data.datasets[0].data = response.data;
                chart2.update();
            })
            .fail(function () {
                $(".error").show();
                console.log('先不要');
            }).always(function () {
                console.log('AJAX2完成');
            });
        /* --3 */
        $.ajax({
                url: apiUrl,
                method: "get",
                dataType: "json",
            })
            .done(function (response) {
                let timeout = setTimeout(function () {
                    chart3.data.labels = response.labels;
                    chart3.data.datasets[0].data = response.data;
                    chart3.update();
                    $(".loading")[0].style.display = "none";
                    clearTimeout(timeout);
                }, 3000);
            })
            .fail(function () {
                alert("wrong");
            }).always(function () {
                console.log('AJAX3完成');
            });
        /* --4 */
        $.ajax({
                url: apiUrl,
                method: "get",
                dataType: "json",
            })
            .done(function (response) {
                chart4.data.labels = response.labels;
                chart4.data.datasets[0].data = response.data;
                chart4.update();
                let timeout = setTimeout(function () {
                    let newLabels = [
                        '美國', '日本', '泰國', '琉球', '紐西蘭', '澳洲'
                    ]
                    let newData = [7, 10, 15, 7, 6, 3, 3];
                    myChart4.data.labels = newLabels;
                    myChart4.data.datasets[0].data = newData;
                    myChart4.update();
                    clearTimeout(timeout);
                }, 3000);
            })
            .fail(function () {
                alert("wrong");
            }).always(function () {
                console.log('AJAX4完成');
            });
    </script>

</body>

</html>